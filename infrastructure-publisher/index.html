
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../infrastructure-logs/">
      
      
        <link rel="next" href="../infrastructure-relval/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Release publishing - ALICE software</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#publishing-of-packages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ALICE software" class="md-header__button md-logo" aria-label="ALICE software" data-md-component="logo">
      
  <img src="../alice_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ALICE software
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Release publishing
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/alisw/alisw.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    View source code
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ALICE software" class="md-nav__button md-logo" aria-label="ALICE software" data-md-component="logo">
      
  <img src="../alice_logo.png" alt="logo">

    </a>
    ALICE software
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/alisw/alisw.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    View source code
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build infrastructure
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-release-process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release process of AliRoot / AliPhysics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-release-process-o2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release process O2PDPSuite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-o2-branches/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    O2 stable branches
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-nightly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nightly builds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-cvmfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CVMFS releases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-pr-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing of Pull Requests (continuous integration)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build Logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Release Publishing
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Release Publishing
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-cvmfs" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting CVMFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting CVMFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-to-the-publisher-machines" class="md-nav__link">
    <span class="md-ellipsis">
      Access to the publisher machines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-with-missing-root-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Issue with missing ROOT libraries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-alien" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting ALIEN
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-rpms" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting RPMS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-new-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Add new packages:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Add new packages:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cvmfs" class="md-nav__link">
    <span class="md-ellipsis">
      CVMFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpms" class="md-nav__link">
    <span class="md-ellipsis">
      RPMS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-publishing-on-a-new-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Start publishing on a new architecture
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-relval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release and Validation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-alibi-user-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AliBI User Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-auto-builds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up automatic release builds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-rpms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generation of RPMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-known-tradeoffs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Known tradeoffs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-docker-packer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Docker images with Packer
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Infrastructure details
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure details
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-nomad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Nomad, Consul and Vault
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-nomad-host/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nomad cluster setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-macos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MacOS builder setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-machines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual and physical machines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-alienvobox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AliEn VoBox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web Frontend
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-jenkins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jenkins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-repository/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AliBuild S3 Repository
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-alibi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AliBI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-auto-builds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up automatic release builds
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-cvmfs" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting CVMFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting CVMFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-to-the-publisher-machines" class="md-nav__link">
    <span class="md-ellipsis">
      Access to the publisher machines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-with-missing-root-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Issue with missing ROOT libraries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-alien" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting ALIEN
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-rpms" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting RPMS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-new-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Add new packages:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Add new packages:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cvmfs" class="md-nav__link">
    <span class="md-ellipsis">
      CVMFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpms" class="md-nav__link">
    <span class="md-ellipsis">
      RPMS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-publishing-on-a-new-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Start publishing on a new architecture
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="publishing-of-packages">Publishing of packages<a class="headerlink" href="#publishing-of-packages" title="Permanent link">#</a></h1>
<p>Packages are published using <a href="https://github.com/alisw/ali-bot/tree/master/publish">ali-bot/publish</a> scripts. 
This happens in different places depending if we are deploying on CVMFS or Alien. The procedure
is automatic and in principle there is no need for babysitting it, however in
case of troubles you can do the following:</p>
<h2 id="troubleshooting-cvmfs">Troubleshooting CVMFS<a class="headerlink" href="#troubleshooting-cvmfs" title="Permanent link">#</a></h2>
<h3 id="access-to-the-publisher-machines">Access to the publisher machines<a class="headerlink" href="#access-to-the-publisher-machines" title="Permanent link">#</a></h3>
<ul>
<li>SSH as your username to <code>cvmfs-alice.cern.ch</code> or
  <code>cvmfs-alice-nightlies.cern.ch</code> depending on
  what you are publishing (ask to be added to the self managed lxcvmfs-alice for authorization).</li>
<li>Follow the instructions given at the logon by the MOD</li>
<li>Logs are in <code>~/publisher/log</code></li>
</ul>
<h3 id="issue-with-missing-root-libraries">Issue with missing ROOT libraries<a class="headerlink" href="#issue-with-missing-root-libraries" title="Permanent link">#</a></h3>
<p>For some yet to be understood reason sometimes ROOT is published with a <code>-&lt;N&gt;</code> revision, while <code>-&lt;N+1&gt;</code> is available.
This leads to errors like:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>o2-analysistutorial-histograms-full-tracks: error while loading shared libraries: libGenVector.so.6.24: cannot open shared object file: No such file or directory
</span></code></pre></div>
<p>when running in hyperloop. In order to workaround the issue, for the moment, the solution is to add by hand a symlink to
the existing folder. This can be done by:</p>
<ul>
<li><code>ssh cvmfs-alice.cern.ch</code></li>
<li><code>sudo -i -u cvalice</code></li>
<li>Go to the ROOT folder and start a transaction</li>
</ul>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cd /cvmfs/alice.cern.ch/el7-x86_64/Packages/ROOT/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>cvmfs_server transaction alice.cern.ch
</span></code></pre></div>
* Find the missing ROOT and create a symlink to the next available one. E.g. <code>ln -s v6-24-02-24 v6-24-02-23</code>.
* <strong>Close the transaction</strong> <code>cd &amp;&amp; cvmfs_server transaction alice.cern.ch</code>.</p>
<p>Things should be then back in business in a few minutes, time for CVMFS to propagate the changes everywhere.</p>
<h2 id="troubleshooting-alien">Troubleshooting ALIEN<a class="headerlink" href="#troubleshooting-alien" title="Permanent link">#</a></h2>
<p>See the <a href="https://alinomad.cern.ch/ui/jobs/publish-alien@default?desc=true&amp;sort=submitTime"><code>publish-alien</code> Nomad job</a>.</p>
<h2 id="troubleshooting-rpms">Troubleshooting RPMS<a class="headerlink" href="#troubleshooting-rpms" title="Permanent link">#</a></h2>
<p>RPMS are also created using <code>aliPublishS3</code> in <a href="../infrastructure-nomad/">Nomad</a>.
<a href="../infrastructure-rpms/">See the dedicated documentation.</a></p>
<h2 id="add-new-packages">Add new packages:<a class="headerlink" href="#add-new-packages" title="Permanent link">#</a></h2>
<h3 id="cvmfs">CVMFS<a class="headerlink" href="#cvmfs" title="Permanent link">#</a></h3>
<p>Packages published on CVMFS can be configured via the <a href="https://github.com/alisw/ali-bot/blob/master/publish/aliPublish.conf"><code>aliPublish.conf</code></a> file. Apart from having your changes in master, no further action is required.</p>
<p>Builds of O2PDPSuite from the <code>async</code> branch are also published on CVMFS using <a href="https://github.com/alisw/ali-bot/blob/master/publish/aliPublish-async.conf"><code>aliPublish-async.conf</code></a>.</p>
<p>In addition, the AliDPG package is handled specially and published to <code>noarch</code> using <a href="https://github.com/alisw/ali-bot/blob/master/publish/aliPublish-noarch.conf"><code>aliPublish-noarch.conf</code></a>.</p>
<h3 id="rpms">RPMS<a class="headerlink" href="#rpms" title="Permanent link">#</a></h3>
<p>If you need to generate a new RPM package, the configuration is in <code>ali-bot/publisher/aliPublish-rpms.conf</code> and <code>aliPublish-updatable-rpms.conf</code>. Once you have updated it and merged in <a href="https://github.com/alisw/ali-bot">alisw/ali-bot</a>, the publisher will pick your changes up automatically.</p>
<h2 id="start-publishing-on-a-new-architecture">Start publishing on a new architecture<a class="headerlink" href="#start-publishing-on-a-new-architecture" title="Permanent link">#</a></h2>
<p>In order to publish Run 2 packages on another architecture on CVMFS, symlinks for the AliDPG package must be in place.</p>
<p>AliDPG is built on CentOS 8, but published to a special <code>noarch</code> architecture on CVMFS and AliEn.</p>
<p>AliDPG is always loaded explicitly, as the last package in a list, like <code>AliPhysics/v5-09-59a-01-1,AliDPG/prod-202209-01-1</code>. Becase <code>alienv</code> loads all packages from the same architecture, the availability of the AliPhysics package determines where we look for the AliDPG package. As AliDPG just provides a shell script and some uncompiled ROOT macros, it doesn't matter which architecture it was built on, so we can share AliDPGs between all architectures by putting them in <code>noarch</code>.</p>
<p>To facilitate this, the following symlinks must be created (remember to wrap this in a CVMFS transaction):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nv">arch</span><span class="o">=</span><span class="s1">&#39;&lt;the new architecture you want to add, e.g. &quot;el8-x86_64&quot;&gt;&#39;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nb">cd</span><span class="w"> </span>/cvmfs/alice.cern.ch
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>ln<span class="w"> </span>-svnf<span class="w"> </span>../../../noarch/Modules/modulefiles/AliDPG<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$arch</span><span class="s2">/Modules/modulefiles/AliDPG&quot;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>ln<span class="w"> </span>-svnf<span class="w"> </span>../../noarch/Packages/AliDPG<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$arch</span><span class="s2">/Packages/AliDPG&quot;</span>
</span></code></pre></div>
<p><strong>TODO</strong>: This hasn't been done for O2DPG yet; that package is pulled in by O2PDPSuite, so the publishing procedure is more complicated there.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>